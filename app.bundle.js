!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=(a=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),r=i.sources.map(function(e){return"/*# sourceURL=".concat(i.sourceRoot).concat(e," */")});return[n].concat(r).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var a=0;a<e.length;a++){var s=e[a];null!=s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),t.push(s))}},t}},function(e,t,n){
/*!
 * drag-tracker v1.0.0
 * https://github.com/Sphinxxxx/drag-tracker#readme
 *
 * Copyright 2017-2018 Andreas Borgen
 * Released under the MIT license.
 */
e.exports=function(){"use strict";var e=window;return function(t){var n=Element.prototype;n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest||(n.closest=function(e){var t=this;do{if(t.matches(e))return t;t="svg"===t.tagName?t.parentNode:t.parentElement}while(t);return null});var i=(t=t||{}).container||document.documentElement,o=t.selector,r=t.callback||console.log,a=t.callbackDragStart,s=t.callbackDragEnd,l=t.callbackClick,c=t.propagateEvents,p=!1!==t.roundCoords,d=!1!==t.dragOutside,u=t.handleOffset||!1!==t.handleOffset,h=null;switch(u){case"center":h=!0;break;case"topleft":case"top-left":h=!1}var f=void 0;function g(e,t,n,o){var r=e.clientX,a=e.clientY;function s(e,t,n){return Math.max(t,Math.min(e,n))}if(t){var l=t.getBoundingClientRect();if(r-=l.left,a-=l.top,n&&(r-=n[0],a-=n[1]),o&&(r=s(r,0,l.width),a=s(a,0,l.height)),t!==i){var c=null!==h?h:"circle"===t.nodeName||"ellipse"===t.nodeName;c&&(r-=l.width/2,a-=l.height/2)}}return p?[Math.round(r),Math.round(a)]:[r,a]}function m(e){e.preventDefault(),c||e.stopPropagation()}function b(e){var t=void 0;if(t=o?o instanceof Element?o.contains(e.target)?o:null:e.target.closest(o):{}){m(e);var n=o&&u?g(e,t):[0,0],r=g(e,i,n);f={target:t,mouseOffset:n,startPos:r,actuallyDragged:!1},a&&a(t,r)}}function x(e){if(f){m(e);var t=f.startPos,n=g(e,i,f.mouseOffset,!d);f.actuallyDragged=f.actuallyDragged||t[0]!==n[0]||t[1]!==n[1],r(f.target,n,t)}}function v(e,t){if(f){if(s||l){var n=!f.actuallyDragged,o=n?f.startPos:g(e,i,f.mouseOffset,!d);l&&n&&!t&&l(f.target,o),s&&s(f.target,o,f.startPos,t||n&&l)}f=null}}function w(e,t){v(S(e),t)}function y(e,t,n){e.addEventListener(t,n)}function k(e){return void 0!==e.buttons?1===e.buttons:1===e.which}function _(e,t){1===e.touches.length?t(S(e)):v(e,!0)}function S(e){var t=e.targetTouches[0];return t||(t=e.changedTouches[0]),t.preventDefault=e.preventDefault.bind(e),t.stopPropagation=e.stopPropagation.bind(e),t}y(i,"mousedown",function(e){k(e)?b(e):v(e,!0)}),y(i,"touchstart",function(e){return _(e,b)}),y(e,"mousemove",function(e){f&&(k(e)?x(e):v(e))}),y(e,"touchmove",function(e){return _(e,x)}),y(i,"mouseup",function(e){f&&!k(e)&&v(e)}),y(i,"touchend",function(e){return w(e)}),y(i,"touchcancel",function(e){return w(e,!0)})}}()},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t,n){
/*!
 * @sphinxxxx/color-conversion v2.2.1
 * https://github.com/Sphinxxxx/color-conversion
 *
 * Copyright 2017-2019 Joudee (https://github.com/Joudee), Andreas Borgen (https://github.com/Sphinxxxx), Michael Jackson (https://github.com/mjackson)
 * Released under the ISC license.
 */
e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var i={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}return function(){function r(t,i,o,a){e(this,r);var s=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===o){var l=t&&""+t;l&&function(e){if(e.startsWith("hsl")){var t=e.match(/([\-\d\.e]+)/g).map(Number),i=n(t,4),o=i[0],a=i[1],l=i[2],c=i[3];void 0===c&&(c=1),o/=360,a/=100,l/=100,s.hsla=[o,a,l,c]}else if(e.startsWith("rgb")){var p=e.match(/([\-\d\.e]+)/g).map(Number),d=n(p,4),u=d[0],h=d[1],f=d[2],g=d[3];void 0===g&&(g=1),s.rgba=[u,h,f,g]}else e.startsWith("#")?s.rgba=r.hexToRgb(e):s.rgba=r.nameToRgb(e)||r.hexToRgb(e)}(l.toLowerCase())}else this.rgba=[t,i,o,void 0===a?1:a]}return t(r,[{key:"printRGB",value:function(e){var t=e?this.rgba:this.rgba.slice(0,3),n=t.map(function(e,t){return o(e,3===t?3:0)});return e?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],i=e?this.hsla:this.hsla.slice(0,3),r=i.map(function(e,i){return o(e*t[i],3===i?3:1)+n[i]});return e?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=r.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=r.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba,t=e.map(function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)});return"#"+t.map(function(e){return e.padStart(2,"0")}).join("")},set:function(e){this.rgba=r.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(e){return parseInt(e,16)});return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var t=i[e];if(t)return r.hexToRgb(t)}},{key:"rgbToHsl",value:function(e){var t=n(e,4),i=t[0],o=t[1],r=t[2],a=t[3];i/=255,o/=255,r/=255;var s=Math.max(i,o,r),l=Math.min(i,o,r),c=void 0,p=void 0,d=(s+l)/2;if(s===l)c=p=0;else{var u=s-l;switch(p=d>.5?u/(2-s-l):u/(s+l),s){case i:c=(o-r)/u+(o<r?6:0);break;case o:c=(r-i)/u+2;break;case r:c=(i-o)/u+4}c/=6}return[c,p,d,a]}},{key:"hslToRgb",value:function(e){var t=n(e,4),i=t[0],o=t[1],r=t[2],a=t[3],s=void 0,l=void 0,c=void 0;if(0===o)s=l=c=r;else{var p=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},d=r<.5?r*(1+o):r+o-r*o,u=2*r-d;s=p(u,d,i+1/3),l=p(u,d,i),c=p(u,d,i-1/3)}var h=[255*s,255*l,255*c].map(Math.round);return h[3]=a,h}}]),r}()}()},function(e,t,n){var i=n(5);"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(20)(i,o);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(0)(!1)).i(n(6),""),t.i(n(7),""),t.i(n(14),""),t.i(n(15),"");var i=n(2),o=i(n(18)),r=i(n(19));t.push([e.i,"body {\n  height: 100vh;\n  margin: 0;\n  font-family: 'Mali','\tComic Sans MS',  cursive, sans-serif;\n  background: #343434;\n}\n\nheader {\n  padding: 30px;\n  text-align: center;\n}\n\nh1 {\n  margin: 0;\n  text-align: center;\n  font-size: 60px;\n  font-weight: normal;\n  color: transparent;\n  text-transform: uppercase;\n  text-shadow: 0 0 1px #eee, 5px 5px 1px #00dcdc, -5px -2px 1px #ff3232;\n  animation: glitch 4s ease-in-out infinite alternate;\n}\n\nmain {\n  position: relative;\n  display: flex;\n  flex-flow: row wrap;\n}\n\n/*  Modal window  */\n#shotcuts-wrapper {\n  position: relative;\n}\n\n.blur-it {\n  -webkit-filter: blur(4px);\n          filter: blur(4px);\n}\n\na.shotcuts_btn {\n  position: absolute;\n  top: -15px;\n  left: 0px;\n  width: 40px;\n  margin: 0 20px;\n  padding: 12px 0;\n  text-decoration: none;\n  border-radius: 5px;\n  background-image: url("+o+");\n  background-repeat: no-repeat;\n}\n\n#modal-wrapper {\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  z-index: 100;\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: all 0.25s ease-in-out;\n  transition: all 0.25s ease-in-out;\n}\n\n#modal-wrapper.open {\n  opacity: 1;\n  visibility: visible;\n}\n\n.modal {\n  width: 300px;\n  min-height: 350px;\n  display: block;\n  position: relative;\n  top: 50px;\n  left: 50px;\n  background: #fff;\n  opacity: 0;\n  -webkit-transition: all 0.5s ease-in-out;\n  transition: all 0.5s ease-in-out;\n}\n\n#modal-wrapper.open .modal {\n  opacity: 1;\n}\n\n.head-modal {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 32px;\n  padding: 10px;\n  overflow: hidden;\n  color: #eee;\n  background: #00dcdc;\n}\n\n.head-modal h2 {\n  margin: 0;\n}\n\n.shortcuts-list {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n}\n\n.shortcuts-list li {\n  padding: 14px 0;\n}\n\n.shotcut {\n  margin-right: 10px;\n  padding: 5px 7px;\n  font-weight: bold;\n  color: #ff3232;\n  border: 3px solid #ff3232;\n  border-radius: 4px;\n}\n\n.close_btn {\n  float: right;\n}\n\n.content-modal{\n  padding: 15px;\n}\n\n\n#save_btn {\n  position: absolute;\n  top: -25px;\n  left: 70px;\n  width: 40px;\n  height: 40px;\n  border: none;\n  font: inherit;\n  background-color: transparent;\n  cursor: pointer;\n  background-image: url("+r+");\n}\n",""])},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".canvas-container {\n  min-width: 45%;\n  min-height: 530px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 20px;\n  padding: 20px;\n  background-color: #C8C8C8;\n  box-shadow: 0px 2px 9px 1px #AAAEAF;\n  border-radius: 5px;\n}\n\ncanvas {\n  background: #fff;\n  border: 1px solid #7B899B;\n}\n\n#canvasInformation {\n  width: 215px;\n  min-height: 60px;\n  padding: 5px 10px;\n  list-style: none;\n  font-size: 16px;\n  font-weight: bold;\n  color:#ff3232;\n  background-color: #FFFFFF;;\n  box-shadow: 0px 2px 9px 1px #AAAEAF;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n\n.list-canvasSize {\n  width: 215px;\n  padding: 5px 10px;\n  color: #00dcdc;\n  background-color: #FFFFFF;;\n  box-shadow: 0px 2px 9px 1px #AAAEAF;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n\n.list-canvasSize label {\n  display: block;\n  line-height: 20px;\n  cursor: pointer;\n}\n\n.list-canvasSize_item {\n  position: relative;\n  top: 6px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 20px;\n  width: 20px;\n  display: inline-block;\n  margin: 0 7px 0 0 ;\n  color: #fff;\n  background: #cbd1d8;\n  outline: none;\n  border: none;\n  border-radius: 50%;\n  transition: all 0.15s ease-out 0s;\n  cursor: pointer;\n  z-index: 1000;\n  -webkit-appearance: none;\n}\n\n.list-canvasSize_item:hover {\n  background: #9faab7;\n}\n\n.list-canvasSize_item:checked {\n  background: #00dcdc;\n}\n\n.list-canvasSize_item:checked::before {\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  content: 'âœ”';\n  display: inline-block;\n  font-size: 15px;\n  text-align: center;\n  line-height: 20px;\n}\n\n.list-canvasSize_item::after {\n  border-radius: 50%;\n}\n\n.list-canvasSize_item:checked::after {\n  background: #40e0d0;\n  content: '';\n  display: block;\n  position: relative;\n  z-index: 100;\n}\n\n.resize_btn {\n  margin: 2px 0;\n  padding: 8px 12px;\n  color: #ffffff;\n  background-color: #40e0d0;\n  font-weight: bold;\n  border: solid 1px transparent;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.resize_btn:hover {\n  background-color:#9faab7;\n}\n\n.resize_btn:active{\n  color: #40e0d0;\n  background-color: #ffffff;\n}\n",""])},function(e,t,n){t=e.exports=n(0)(!1);var i=n(2),o=i(n(8)),r=i(n(9)),a=i(n(10)),s=i(n(11)),l=i(n(12)),c=i(n(13));t.push([e.i,".wrapper-tools-palette {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n  min-width: 100px;\n  height: 400px;\n  margin: 20px;\n  background-color: #C8C8C8;\n  box-shadow: 0px 2px 7px 0px #AAAEAF;\n  border-radius: 5px;\n}\n\n.tools-container {\n  display: grid;\n  grid-template-columns:repeat(2, 50px);\n}\n\n#tool-pen {\n  background-image: url("+o+");\n}\n\n#tool-paint-bucket {\n  background-image: url("+r+");\n}\n\n#tool-color-picker {\n  background-image: url("+a+");\n}\n\n#tool-eraser {\n  background-image: url("+s+");\n}\n\n#tool-stroke {\n  background-image: url("+l+");\n}\n\n#tool-custom {\n  background-image: url("+c+");\n}\n\n.tool_btn {\n  width: 50px;\n  height: 50px;\n  border: none;\n  font: inherit;\n  font-size: 20px;\n  text-align: left;\n  color: inherit;\n  background-color: transparent;\n  cursor: pointer;\n  border: 1px solid #AAAEAF;\n}\n\n.tool_btn:hover {\n  background-color: #AAAEAF;\n  color: white;\n}\n\n.tool_btn.active {\n  background: #00dcdc;\n}\n\n.palette-container {\n  position: relative;\n  height: 100px;\n}\n\n.palette {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  z-index: 10;\n  width: 40px;\n  height: 40px;\n  border: 2px solid white;\n  background-color: #00ccffff;\n  cursor: pointer;\n}\n\n.previousColor {\n  position: absolute;\n  top: 35px;\n  left: 35px;\n  z-index: 1;\n  width: 40px;\n  height: 40px;\n  border: 2px solid white;\n  background-color: transparent;\n}\n",""])},function(e,t){e.exports="img/tool-pen.png"},function(e,t){e.exports="img/tool-paint-bucket.png"},function(e,t){e.exports="img/tool-colorpicker.png"},function(e,t){e.exports="img/tool-eraser.png"},function(e,t){e.exports="img/tool-stroke.png"},function(e,t){e.exports="img/tool-custom.png"},function(e,t,n){(e.exports=n(0)(!1)).push([e.i,".preview {\n  width: 200px;\n  height: 165px;\n  margin: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: #C8C8C8;\n  box-shadow: 0px 2px 9px 1px #AAAEAF;\n  border-radius: 5px;\n}\n",""])},function(e,t,n){t=e.exports=n(0)(!1);var i=n(2),o=i(n(16)),r=i(n(17));t.push([e.i,".conteiner-frames {\n  display: flex;\n  min-width: 150px;\n  flex-direction: column;\n  align-items: center;\n}\n\n.frame {\n  position: relative;\n  width: 135px;\n  height: 150px;\n  margin: 40px auto;\n  background-color: #ffffff;\n  border: 3px solid #AAAEAF;\n}\n\n.frame.active, .frame:hover{\n  border: 3px solid yellow;\n}\n\n.canvas-in-frame {\n  display: block;\n  margin: 0 auto;\n}\n\n.number-frame,\n.tool-tip_delete,\n.tool-tip_copy {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  padding: 0;\n  border: none;\n}\n\n.number-frame {\n  top: 0;\n  left: 0;\n  color: #000000;\n  background-color: #AAAEAF;\n  text-align: center;\n}\n\n.frame.active .number-frame, .frame:hover .number-frame{\n  background-color: yellow;\n}\n\n.tool-tip_delete {\n  top: 0;\n  right: 0;\n  background-color: #AAAEAF;\n  background-image: url("+o+");\n}\n\n.tool-tip_copy {\n  bottom: 0;\n  right: 0;\n  background-color: #AAAEAF;\n  background-image: url("+r+");\n}\n\n.add-frame_btn {\n  width: 150px;\n  margin: 10px auto;\n  border-radius: 6px;\n  border: 3px solid #AAAEAF;\n  font-size: 18px;\n  text-align: center;\n}\n",""])},function(e,t){e.exports="img/frame-recyclebin-white.png"},function(e,t){e.exports="img/frame-duplicate-white.png"},function(e,t){e.exports="img/keyboard-gold.png"},function(e,t){e.exports="img/settings-save-white.png"},function(e,t,n){var i,o,r={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,p=[],d=n(21);function u(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(x(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(x(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],i={},o=0;o<e.length;o++){var r=e[o],a=t.base?r[0]+t.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=p[p.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),p.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,n);n.insertBefore(t,o)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=p.indexOf(e);t>=0&&p.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return b(t,e.attrs),f(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function x(e,t){var n,i,o,r;if(t.transform&&e.css){if(!(r="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=r}if(t.singleton){var a=c++;n=l||(l=m(t)),i=y.bind(null,n,a,!1),o=y.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",b(t,e.attrs),f(e,t),t}(t),i=function(e,t,n){var i=n.css,o=n.sourceMap,r=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||r)&&(i=d(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return u(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}e&&u(h(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var v,w=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function y(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";n.r(t);n(4);class i{constructor(e,t){this.pixels=[],this.canvasSize=e,this.pixelsNumberInWidth=this.canvasSize,this.pixelsInHeight=this.canvasSize,this.pixelSize=t,this.pixelWidth=this.pixelSize,this.pixelHeight=this.pixelSize,this.reset()}setPixel(e,t,n){this.pixels[this.pixelsNumberInWidth*e+t]=n}getPixel(e,t){return this.pixels[this.pixelsNumberInWidth*e+t]}getCanvasSize(){return this.canvasSize}getPixelSize(){return this.pixelSize}getArrayPixels(){return this.pixels}setArrayPixels(e){this.pixels=e}reset(){for(let e=1;e<=this.pixelsInHeight;e+=1)for(let t=1;t<=this.pixelsNumberInWidth;t+=1)this.setPixel(t,e,{mouseOver:!1,color:"#ffffff",selected:!1,x:(t-1)*this.pixelWidth,y:(e-1)*this.pixelHeight,h:this.pixelHeight,w:this.pixelWidth})}}const o={x:0,y:0,xStart:0,yStart:0,xEnd:0,yEnd:0,events:{mouseover:!1,mouseout:!1,mousedown:!1,mousemove:!1,mouseup:!0,mouseButton:0,dragging:!1}},r=(e,t)=>{const n=e=>{const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}};e.addEventListener("mouseover",function(e){o.events.mouseover=!0,o.x=Math.floor(e.clientX-n(this).left),o.y=Math.floor(e.clientY-n(this).top)}),e.addEventListener("mouseout",()=>{o.events.mousemove=!1,o.events.mouseover=!1,o.events.mousedown=!1,o.events.mouseout=!0,o.events.mouseButton=0,o.x=0,o.y=0}),e.addEventListener("mousemove",function(e){return o.events.mousemove=!0,o.x=Math.floor(e.clientX-n(this).left),o.y=Math.floor(e.clientY-n(this).top),document.getElementById("mouseCoordinatesInfo").innerHTML=`coordinates x/y:  ${Math.floor(o.x/t)}:${Math.floor(o.y/t)}`,!1}),e.addEventListener("mousedown",function(e){return o.events.mousedown=!0,o.events.mouseup=!1,o.events.mouseButton=e.which,o.events.dragging=!0,o.xStart=Math.floor(e.clientX-n(this).left),o.yStart=Math.floor(e.clientY-n(this).top),!1}),e.addEventListener("mouseup",function(e){return o.events.mousedown=!1,o.events.mouseup=!0,o.events.mouseButton=0,o.events.dragging=!1,o.xEnd=Math.floor(e.clientX-n(this).left),o.yEnd=Math.floor(e.clientY-n(this).top),!1}),e.addEventListener("contextmenu",e=>{e.preventDefault()})};var a=n(3),s=n(1);const l="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",c=360,p="keydown",d="mousedown",u="focusin";function h(e,t){return(t||document).querySelector(e)}function f(e,t,n){e.addEventListener(t,n,!1)}function g(e){e.preventDefault(),e.stopPropagation()}function m(e,t,n,i){f(e,p,function(e){t.indexOf(e.key)>=0&&(i&&g(e),n(e))})}const b=document.createElement("style");b.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.layout_default.picker_wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;width:6rem}.layout_default .picker_editor input{width:calc(100% + 2px);height:calc(100% + 2px)}.layout_default .picker_sample{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.layout_default .picker_done{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.picker_wrapper{-webkit-box-sizing:border-box;box-sizing:border-box;background:#f2f2f2;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{margin:-1px}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;-webkit-box-shadow:0 0 3px 1px #67b9ff;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_sl{position:relative;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;-webkit-box-shadow:0 0 0 1px silver;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:monospace;padding:.1em .2em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_done button{-webkit-box-sizing:border-box;box-sizing:border-box;padding:.2em .5em;cursor:pointer}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;-webkit-box-shadow:0 0 10px 1px rgba(0,0,0,0.4);box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;-webkit-box-shadow:none;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(b);var x=class{constructor(e){this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex"},this._openProxy=e=>this.openHandler(e),this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}setOptions(e){if(!e)return;const t=this.settings;if(e instanceof HTMLElement)t.parent=e;else{t.parent&&e.parent&&t.parent!==e.parent&&(t.parent.removeEventListener("click",this._openProxy,!1),this._popupInited=!1),function(e,t,n){for(const i in e)n&&n.indexOf(i)>=0||(t[i]=e[i])}(e,t),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);const n=e.color||e.colour;n&&this._setColor(n)}const n=t.parent;n&&t.popup&&!this._popupInited?(f(n,"click",this._openProxy),m(n,[" ","Spacebar","Enter"],this._openProxy),this._popupInited=!0):e.parent&&!t.popup&&this.show()}openHandler(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";const t=e&&e.type===p?this._domEdit:this.domElement;setTimeout(()=>t.focus(),100),this.onOpen&&this.onOpen(this.colour)}}closeHandler(e){const t=e&&e.type;let n=!1;if(e)if(t===d||t===u){const t=(this.__containedEvent||0)+100;e.timeStamp>t&&(n=!0)}else g(e),n=!0;else n=!0;n&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==d&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}movePopup(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}setColor(e,t){this._setColor(e,{silent:t})}_setColor(e,t){if("string"==typeof e&&(e=e.trim()),!e)return;let n;t=t||{};try{n=new a(e)}catch(e){if(t.failSilently)return;throw e}if(!this.settings.alpha){const e=n.hsla;e[3]=1,n.hsla=e}this.colour=this.color=n,this._setHSLA(null,null,null,null,t)}setColour(e,t){this.setColor(e,t)}show(){if(!this.settings.parent)return!1;if(this.domElement){const e=this._toggleDOM(!0);return this._setPosition(),e}const e=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div></div>');return this.domElement=e,this._domH=h(".picker_hue",e),this._domSL=h(".picker_sl",e),this._domA=h(".picker_alpha",e),this._domEdit=h(".picker_editor input",e),this._domSample=h(".picker_sample",e),this._domOkay=h(".picker_done button",e),e.classList.add("layout_"+this.settings.layout),this.settings.alpha||e.classList.add("no_alpha"),this.settings.editor||e.classList.add("no_editor"),this._ifPopup(()=>e.classList.add("popup")),this._setPosition(),this.colour?this._updateUI():this._setColor("#0cf"),this._bindEvents(),!0}hide(){return this._toggleDOM(!1)}_bindEvents(){const e=this,t=this.domElement;function n(e,t){function n(n,i){const o=i[0]/e.clientWidth,r=i[1]/e.clientHeight;t(o,r)}return{container:e,dragOutside:!1,callback:n,callbackDragStart:n,propagateEvents:!0}}f(t,"click",e=>e.preventDefault()),s(n(this._domH,(t,n)=>e._setHSLA(t))),s(n(this._domSL,(t,n)=>e._setHSLA(null,t,1-n))),this.settings.alpha&&s(n(this._domA,(t,n)=>e._setHSLA(null,null,null,1-n)));const i=this._domEdit;f(i,"input",function(t){e._setColor(this.value,{fromEditor:!0,failSilently:!0})}),f(i,"focus",function(e){const t=this;t.selectionStart===t.selectionEnd&&t.select()}),this._ifPopup(()=>{const e=e=>this.closeHandler(e);f(window,d,e),f(window,u,e),m(t,["Esc","Escape"],e);const n=e=>{this.__containedEvent=e.timeStamp};f(t,d,n),f(t,u,n)});const o=e=>{this._ifPopup(()=>this.closeHandler(e)),this.onDone&&this.onDone(this.colour)};f(this._domOkay,"click",o),m(t,["Enter"],o)}_setPosition(){const e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup(n=>{"static"===getComputedStyle(e).position&&(e.style.position="relative");const i=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach(e=>{e===i?t.classList.add(e):t.classList.remove(e)}),t.classList.add(i)})}_setHSLA(e,t,n,i,o){o=o||{};const r=this.colour,a=r.hsla;[e,t,n,i].forEach((e,t)=>{(e||0===e)&&(a[t]=e)}),r.hsla=a,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(r)}_updateUI(e){if(!this.domElement)return;e=e||{};const t=this.colour,n=t.hsla,i=`hsl(${n[0]*c}, 100%, 50%)`,o=t.hslString,r=t.hslaString,a=this._domH,s=this._domSL,p=this._domA,d=h(".picker_selector",a),u=h(".picker_selector",s),f=h(".picker_selector",p);function g(e,t,n){t.style.left=100*n+"%"}function m(e,t,n){t.style.top=100*n+"%"}g(0,d,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,g(0,u,n[1]),m(0,u,1-n[2]),s.style.color=o,m(0,f,1-n[3]);const b=o,x=b.replace("hsl","hsla").replace(")",", 0)"),v=`linear-gradient(${[b,x]})`;if(this._domA.style.backgroundImage=v+", "+l,!e.fromEditor){const e=this.settings.editorFormat,n=this.settings.alpha;let i;switch(e){case"rgb":i=t.printRGB(n);break;case"hsl":i=t.printHSL(n);break;default:i=t.printHex(n)}this._domEdit.value=i}this._domSample.style.color=r}_ifPopup(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}_toggleDOM(e){const t=this.domElement;if(!t)return!1;const n=e?"":"none",i=t.style.display!==n;return i&&(t.style.display=n),i}static get StyleElement(){return b}};class v{constructor(){const e=document.getElementById("palette");this.currentColor=window.getComputedStyle(e).backgroundColor,this.previousColor="transparent",new x(e).onChange=t=>{e.style.background=t.rgbaString,this.updatePreviousColor(),this.currentColor=t.rgbaString}}updatePreviousColor(){this.previousColor=this.currentColor,document.getElementById("previousColor").style.background=this.currentColor}setCurrentColor(e){this.currentColor=e,document.getElementById("palette").style.background=e}getCurrentColor(){return this.currentColor}}class w{constructor(){this.parentElement=document.getElementById("tools-container"),this.listTools=this.parentElement.getElementsByClassName("tool_btn");const e=this.parentElement.getElementsByClassName("active");this.currentTool=e[0].id,this.changeActiveTool(),this.penSize=+document.querySelector('input[name="penSize"]:checked').value,document.getElementById("list-penSize").addEventListener("click",()=>this.changePenSize()),document.addEventListener("keydown",e=>this.handleKeyDown(e))}changePenSize(){this.penSize=+document.querySelector('input[name="penSize"]:checked').value}getPenSize(){return this.penSize}changeActiveTool(){const e=e=>{this.currentTool=e};for(let t=0;t<this.listTools.length;t+=1)this.listTools[t].addEventListener("click",function(){const t=document.getElementsByClassName("active");t[0].className=t[0].className.replace(" active",""),this.className+=" active",e(this.id)})}handleKeyDown(e){const t=()=>{const e=this.parentElement.getElementsByClassName("active");e[0].className=e[0].className.replace(" active","")},n=80,i=69,o=66,r=67,a=83,s=78;return e.keyCode===n?(t(),document.getElementById("tool-pen").className+=" active",this.currentTool="tool-pen"):e.keyCode===i?(t(),document.getElementById("tool-eraser").className+=" active",this.currentTool="tool-eraser"):e.keyCode===o?(t(),document.getElementById("tool-paint-bucket").className+=" active",this.currentTool="tool-paint-bucket"):e.keyCode===r?(t(),document.getElementById("tool-color-picker").className+=" active",this.currentTool="tool-color-picker"):e.keyCode===a?(t(),document.getElementById("tool-stroke").className+=" active",this.currentTool="tool-stroke"):e.keyCode===s&&(t(),document.getElementById("tool-custom").className+=" active",this.currentTool="tool-custom"),!1}getCurrentTool(){return this.currentTool}}class y{constructor(e,t){this.palette=new v,this.tool=new w,this.pixelStorage=e,this.pixelsInWidth=this.pixelStorage.getCanvasSize(),this.pixelsInHeight=this.pixelStorage.getCanvasSize(),this.pixelWidth=this.pixelStorage.getPixelSize(),this.pixelHeight=this.pixelStorage.getPixelSize(),this.canvas=document.getElementById("canvas-main"),this.context=this.canvas.getContext("2d"),this.canvas.width=this.pixelsInWidth*this.pixelWidth,this.canvas.height=this.pixelsInHeight*this.pixelHeight,this.context.fillStyle="#FFFFFF",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.canvasGrid=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),this.zoom=t,r(this.canvas,this.zoom)}setPixelSrorage(e){this.pixelStorage=e}getPixelStorage(){return this.pixelStorage}getCanvasSize(){return this.pixelsInWidth}fillCanvas(){const e=this.palette.getCurrentColor(),t=this.pixelStorage.getArrayPixels();for(let n=0;n<t.length;n+=1)t[n]&&(t[n].color=e)}static checkMouseInPixel(e){const t=o.x>=e.x&&o.x<=e.x+e.w,n=o.y>=e.y&&o.y<=e.y+e.h;return t&&n}paintPenSize2x(e,t,n){const i=this.pixelStorage.getPixel(e,t+1),o=this.pixelStorage.getPixel(e-1,t+1),r=this.pixelStorage.getPixel(e-1,t);i.color=n,o.color=n,r.color=n,this.pixelStorage.setPixel(e,t+1,i),this.pixelStorage.setPixel(e-1,t+1,o),this.pixelStorage.setPixel(e-1,t,r)}customShape(e,t,n){const i=this.pixelStorage.getPixel(e+1,t+1),o=this.pixelStorage.getPixel(e-1,t+1),r=this.pixelStorage.getPixel(e+1,t-1),a=this.pixelStorage.getPixel(e-1,t-1);i.color=n,o.color=n,r.color=n,a.color=n,this.pixelStorage.setPixel(e+1,t+1,i),this.pixelStorage.setPixel(e-1,t+1,o),this.pixelStorage.setPixel(e+1,t-1,r),this.pixelStorage.setPixel(e-1,t-1,a)}drawLine(e,t,n,i,o){let r=e,a=t;const s=(e,t)=>{for(let n=1;n<=this.pixelsInHeight;n+=1)for(let i=1;i<=this.pixelsInWidth;i+=1){const r=this.pixelStorage.getPixel(i,n);e>=r.x&&e<=r.x+r.w&&t>=r.y&&t<=r.y+r.h&&(r.color=o,this.pixelStorage.setPixel(i,n,r))}},l=Math.abs(n-r),c=Math.abs(i-a),p=r<n?1:-1,d=a<i?1:-1;let u=l-c;for(;s(r,a),r!==n||a!==i;){const e=2*u;e>-c&&(u-=c,r+=p),e<l&&(u+=l,a+=d)}}update(){for(let e=1;e<=this.pixelsInHeight;e+=1)for(let t=1;t<=this.pixelsInWidth;t+=1){const n=this.pixelStorage.getPixel(t,e);n.mouseOver=!1;const i=this.palette.getCurrentColor(),r=this.tool.getCurrentTool(),a=this.tool.getPenSize();if(y.checkMouseInPixel(n)&&(n.mouseOver=!0,"tool-stroke"!==r&&o.events.mousedown&&1===o.events.mouseButton&&(n.selected=!0,"tool-pen"===r?(n.color=i,this.pixelStorage.setPixel(t,e,n),2===a&&this.paintPenSize2x(t,e,i)):"tool-eraser"===r?(n.color="#ffffff",this.pixelStorage.setPixel(t,e,n),2===a&&this.paintPenSize2x(t,e,"#ffffff")):"tool-color-picker"===r?this.palette.setCurrentColor(n.color):"tool-paint-bucket"===r?this.fillCanvas():"tool-custom"===r&&this.customShape(t,e,i)),"tool-stroke"===r&&o.events.mouseover&&o.events.mouseup)){const e=o.xStart,t=o.yStart,n=o.xEnd,r=o.yEnd;this.drawLine(e,t,n,r,i)}}}render(){this.context.putImageData(this.canvasGrid,0,0);for(let e=1;e<=this.pixelsInHeight;e+=1)for(let t=1;t<=this.pixelsInWidth;t+=1){const n=this.pixelStorage.getPixel(t,e);this.context.fillStyle=n.color,this.context.fillRect(n.x,n.y,this.pixelWidth,this.pixelHeight),n.mouseOver&&(this.context.fillStyle="rgba(0,0,0,0.2)",this.context.fillRect(n.x,n.y,this.pixelWidth,this.pixelHeight))}}}class k{constructor(e,t){this.pixelStorage=e,this.pixelsInCanvasWidth=this.pixelStorage.getCanvasSize(),this.pixelsInCanvasHeight=this.pixelStorage.getCanvasSize(),this.zoomInFrame=1,this.setZoomInFrame(),this.canvasFrame=t,this.canvasFrame.width=this.pixelsInCanvasWidth*this.zoomInFrame,this.canvasFrame.height=this.pixelsInCanvasHeight*this.zoomInFrame,this.contextFrame=this.canvasFrame.getContext("2d")}setPixelStorage(e){this.pixelStorage=e}getPixelStorage(){return this.pixelStorage}setZoomInFrame(){32===this.pixelsInCanvasWidth?this.zoomInFrame=3:64===this.pixelsInCanvasWidth&&(this.zoomInFrame=2)}updateCanvasInFrame(){this.contextFrame.clearRect(0,0,this.canvasFrame.width,this.canvasFrame.height);for(let e=1;e<=this.pixelsInCanvasHeight;e+=1)for(let t=1;t<=this.pixelsInCanvasWidth;t+=1){const n=this.pixelStorage.getPixel(t,e);this.contextFrame.fillStyle=n.color,this.contextFrame.fillRect(t*this.zoomInFrame,e*this.zoomInFrame,this.zoomInFrame,this.zoomInFrame)}}}class _{constructor(){this.framesStorage=[],this.currentPixelStorage=null,this.frame=null,this.currentActiveFrame=null,this.currentActiveCanvas=null,this.imageCanvas=null,this.count=0,this.containerFramesList=document.getElementById("conteiner-frames_list"),this.drawFrame(),this.updateActiveElements(),this.containerFramesList.addEventListener("click",e=>this.frameManagement(e))}drawFrame(){const e=`<div class="frame active" id="${this.count}">\n                <canvas class="canvas-in-frame"></canvas>\n                <button class="number-frame"></button>\n                <button class="tool-tip_delete" data-title-action="delete"></button>\n                <button class="tool-tip_copy"  data-title-action="clone"></button>\n                </div>`;this.containerFramesList.insertAdjacentHTML("beforeend",e),this.count+=1}setCurrentPixelStorage(e){this.currentPixelStorage=e}setImageCanvas(e){this.imageCanvas=e}drawImageInFrame(){this.frame=new k(this.currentPixelStorage,this.currentActiveCanvas)}updateFramesStorage(){this.framesStorage.push(this.frame)}updateActiveElements(){const[e]=this.containerFramesList.getElementsByClassName("active"),t=document.querySelectorAll(".frame"),n=e=>{const[t]=e.getElementsByTagName("canvas");this.currentActiveCanvas=t,this.currentActiveFrame=e};if(e){this.currentActiveFrame=e;const[t]=this.currentActiveFrame.getElementsByTagName("canvas");this.currentActiveCanvas=t}else{const e=[...t][t.length-1];e.className+=" active",n(e)}}removeActiveClass(){this.currentActiveFrame.className=this.currentActiveFrame.className.replace(" active","")}frameManagement(e){const t=e.target,n=t.parentNode,i=+n.id,o=this.framesStorage[i];if(t.classList.contains("tool-tip_delete")&&this.containerFramesList.childNodes.length>1)delete this.framesStorage[i],this.containerFramesList.removeChild(n),this.updateActiveElements();else if(t.classList.contains("tool-tip_copy")){const e=n.getElementsByClassName("canvas-in-frame")[0],t=n.cloneNode(!0);t.getElementsByClassName("canvas-in-frame")[0].getContext("2d").drawImage(e,0,0),this.containerFramesList.insertBefore(t,n),t.classList.contains("active")&&(t.className=t.className.replace(" active","")),t.setAttribute("id",`${this.count}`),this.count+=1,this.framesStorage.push(o)}else{this.currentActiveFrame.className=this.currentActiveFrame.className.replace(" active",""),n.className+=" active";const e=o.getPixelStorage();this.imageCanvas.setPixelSrorage(e),this.frame.setPixelStorage(e),this.updateActiveElements()}}update(){this.frame.updateCanvasInFrame()}}class S{constructor(){this.canvasPreview=document.getElementById("canvas-preview"),this.canvasPreview.width=150,this.canvasPreview.height=150,this.contextPreview=this.canvasPreview.getContext("2d"),this.update()}update(){let e=0;setInterval(()=>{const t=[...document.getElementsByClassName("canvas-in-frame")];e===t.length&&(e=0);const n=t[e];this.contextPreview.clearRect(0,0,this.canvasPreview.width,this.canvasPreview.height),this.contextPreview.drawImage(n,0,0),e+=1},1e3)}}class C{constructor(){this.zoom=6,this.canvasSize=+document.querySelector('input[name="canvasSize"]:checked').value,this.pixelStorage=null,this.imageCanvas=null,this.framesList=new _,this.preview=new S,document.getElementById("canvasZoomInfo").innerHTML=`zoom:  ${this.zoom}`,document.getElementById("canvasSizeInfo").innerHTML=`canvas size :\n      ${this.canvasSize} x ${this.canvasSize}`,document.getElementById("mouseCoordinatesInfo").innerHTML="coordinates x/y:  0 x 0 ",document.getElementById("resize_btn").addEventListener("click",()=>this.resizeCanvas()),document.getElementById("add-frame_btn").addEventListener("click",()=>this.addNewFrame()),document.addEventListener("keydown",e=>this.handleKeyDown(e))}handleKeyDown(e){e.shiftKey&&81===e.which&&this.addNewFrame()}init(){this.pixelStorage=new i(this.canvasSize,this.zoom),this.imageCanvas=new y(this.pixelStorage,this.zoom),this.framesList.setCurrentPixelStorage(this.pixelStorage),this.framesList.setImageCanvas(this.imageCanvas),this.framesList.drawImageInFrame(),this.framesList.updateFramesStorage()}addNewFrame(){this.framesList.removeActiveClass(),this.framesList.drawFrame(),this.framesList.updateActiveElements(),this.init()}resizeCanvas(){const e=+document.querySelector('input[name="canvasSize"]:checked').value;e!==this.imageCanvas.getCanvasSize()&&(this.canvasSize=e,this.init(this.canvasSize,this.zoom))}update(){this.imageCanvas.update(),this.framesList.update()}render(){this.imageCanvas.render()}run(){this.render(),this.update(),window.requestAnimationFrame(()=>{this.run()})}start(){this.init(this.canvasSize,this.zoom),this.run()}}window.addEventListener("load",()=>{function e(){document.getElementById("modal-wrapper").classList.toggle("open")}function t(){document.getElementById("shotcuts_btn-wrapper").classList.toggle("blur-it")}(new C).start();const n=document.getElementsByClassName("trigger");[].forEach.call(n,n=>{n.addEventListener("click",e,!1),n.addEventListener("click",t,!1)});const i=document.getElementById("save_btn"),o=document.getElementById("canvas-main");i.onclick=function(){!function(e,t){const n=document.createElement("a");let i;n.download=t,n.href=e.toDataURL("image/png;base64"),document.createEvent?((i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)):n.fireEvent&&n.fireEvent("onclick")}(o,"myimage.png")}})}]);
//# sourceMappingURL=app.bundle.js.map